<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Syst√®me de Gestion de Climatisation Intelligent</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body class="app">
  <!-- App Shell -->
  <header class="topbar">
    <div class="container topbar__inner">
      <div class="brand">
        <div class="brand__logo">üåÄ</div>
        <div class="brand__title">Syst√®me de Climatisation</div>
      </div>
      <p>Gestion automatis√©e de la temp√©rature et surveillance des capteurs</p>

      <div class="stats">
        <div class="stat"><span id="stat-total">0</span><label>Total</label></div>
        <div class="stat"><span id="stat-ac">0</span><label>AC actifs</label></div>
        <div class="stat"><span id="stat-avg">‚Äî</span><label>Temp. moyenne</label></div>
      </div>

      <div class="actions">
        <button id="btn-create" class="btn btn--primary">
          <svg viewBox="0 0 24 24" class="icon"><path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
          Cr√©er un service
        </button>
      </div>
    </div>
  </header>

  <main class="container main">
    <!-- Create service bar -->
    <section class="create-panel card">
      <input id="roomNameInput" class="input" type="text" placeholder="Nom de la pi√®ce (ex: Salon)" maxlength="50"/>
      <button class="btn btn--primary" id="btn-add-room">Ajouter</button>
    </section>

    <!-- Dashboard grid -->
    <section>
      <h2 class="section-title">Dashboard</h2>
      <div id="rooms-container" class="grid">
        <div class="loading">Chargement des pi√®ces...</div>
      </div>
    </section>

    <!-- Detail/Explorer Drawer -->
    <aside id="detail" class="detail hidden">
      <div class="detail__content">
        <div class="detail__header">
          <button id="detail-back" class="btn btn--ghost">
            <svg viewBox="0 0 24 24" class="icon"><path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
            Retour
          </button>
          <div class="detail__title" id="detail-title">Pi√®ce</div>
        </div>
        <div class="hero">
          <div class="hero__metric">
            <div class="hero__label"><svg class="icon" viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 00-5 0v11.26a4.5 4.5 0 105 0z" fill="currentColor"/></svg>Temp√©rature</div>
            <div class="hero__value" id="d-temp">‚Äî</div>
            <div class="hero__time" id="d-temp-time">‚Äî</div>
          </div>
          <div class="hero__metric">
            <div class="hero__label"><svg class="icon" viewBox="0 0 24 24"><path d="M3 16s3-4 9-4 9 4 9 4-3 4-9 4-9-4-9-4z" fill="currentColor"/></svg>Humidit√©</div>
            <div class="hero__value" id="d-hum">‚Äî</div>
            <div class="hero__time" id="d-hum-time">‚Äî</div>
          </div>
          <div class="hero__metric">
            <div class="hero__label"><svg class="icon" viewBox="0 0 24 24"><path d="M12 3a9 9 0 100 18 9 9 0 000-18z" fill="currentColor"/></svg>Pression</div>
            <div class="hero__value" id="d-pres">‚Äî</div>
            <div class="hero__time" id="d-pres-time">‚Äî</div>
          </div>
        </div>

        <div class="detail__grid">
          <div class="card">
            <div class="card__title">Temp√©rature cible</div>
            <div class="temp-ctrl">
              <button class="btn btn--ghost temp-minus">‚àí</button>
              <div class="temp-ctrl__value" id="d-target">‚Äî</div>
              <button class="btn btn--ghost temp-plus">+</button>
            </div>
          </div>

          <div class="card">
            <div class="card__title">R√©glages</div>
            <div class="toggles">
              <div class="toggle-row">
                <div>
                  <div class="toggle-row__label">Mode automatique</div>
                  <div class="toggle-row__hint">Ajuste automatiquement la climatisation</div>
                </div>
                <label class="switch">
                  <input class="auto-toggle" type="checkbox" />
                  <span class="slider round"></span>
                </label>
              </div>

              <div class="toggle-row">
                <div>
                  <div class="toggle-row__label">Climatisation</div>
                  <div class="toggle-row__hint">Contr√¥le manuel quand l'auto est d√©sactiv√©</div>
                </div>
                <label class="switch">
                  <input class="ac-toggle" type="checkbox" />
                  <span class="slider round"></span>
                </label>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card__title">Lectures capteurs</div>
            <div class="sensor-list" id="d-sensors"></div>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <template id="room-card-template">
    <article class="room-card card">
      <header class="room-card__header">
        <div class="room-card__title">
          <div class="room-name">Pi√®ce</div>
          <span class="badge badge--auto">Auto</span>
        </div>
        <div class="chip chip--off">
          <span class="dot"></span>
          <span class="status-text">Clim OFF</span>
        </div>
      </header>

      <div class="room-card__metrics">
        <div class="metric">
          <div class="metric__icon">üå°Ô∏è</div>
          <div class="metric__value temperature-value">‚Äî</div>
          <div class="metric__label">Temp.</div>
        </div>
        <div class="metric">
          <div class="metric__icon">üíß</div>
          <div class="metric__value humidity-value">‚Äî</div>
          <div class="metric__label">Humidit√©</div>
        </div>
        <div class="metric pressure-row">
          <div class="metric__icon">üåÄ</div>
          <div class="metric__value pressure-value">‚Äî</div>
          <div class="metric__label">Pression</div>
        </div>
      </div>

      <div class="room-card__target">
        <div class="target">
          <div class="target__label">Cible</div>
          <div class="target__value target-temp-value">‚Äî</div>
          <div class="target__ctrl">
            <button class="btn btn--ghost temp-minus">‚àí</button>
            <button class="btn btn--ghost temp-plus">+</button>
          </div>
        </div>
      </div>

      <!-- D√©placement des boutons Auto/Clim sous la ligne Cible -->
      <div class="room-card__switches room-card__switches--inline">
        <div class="switch-group">
          <span class="switch-label">Auto</span>
          <label class="switch">
            <input class="auto-toggle" type="checkbox" />
            <span class="slider round"></span>
          </label>
        </div>
        <div class="switch-group">
          <span class="switch-label">Clim</span>
          <label class="switch">
            <input class="ac-toggle" type="checkbox" />
            <span class="slider round"></span>
          </label>
        </div>
      </div>

      <footer class="room-card__footer">
        <div class="last-update">Maj: <span class="update-time">‚Äî</span></div>
        <button class="btn btn--primary btn-explorer">Explorer</button>
      </footer>
    </article>
  </template>

  <script src="/static/script.js"></script>
</body>
</html>